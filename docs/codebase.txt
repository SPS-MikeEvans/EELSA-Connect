# Codebase Overview: ELSA Training Hub

This document provides a detailed explanation of the ELSA Training Hub application's codebase. It is intended to help developers understand the project structure, key components, and overall architecture.

## 1. Technology Stack

The application is built with a modern, full-featured stack:

- **Framework:** Next.js (with App Router)
- **Language:** TypeScript
- **UI Library:** React
- **Styling:** Tailwind CSS
- **UI Components:** ShadCN UI
- **Database:** Google Firestore
- **Authentication:** Firebase Authentication
- **Payments:** Stripe
- **Email:** Nodemailer (with Gmail)
- **Generative AI:** Genkit

---

## 2. Project Structure

The project follows a standard Next.js structure, with key logic organized inside the `src` directory.

```
/
├── public/                 # Static assets (images, logos)
├── src/
│   ├── app/                # Next.js App Router: pages, layouts, and routes
│   │   ├── (app)/          # Group for authenticated routes (dashboard, courses, etc.)
│   │   ├── (auth)/         # Group for authentication routes (login, register)
│   │   ├── globals.css     # Global styles and CSS variables for theming
│   │   └── layout.tsx      # Root application layout
│   ├── components/         # Reusable React components
│   │   ├── auth/           # Authentication forms (Login, Register)
│   │   ├── icons/          # Custom SVG icon components
│   │   ├── layout/         # Components for overall page structure (Header, Sidebar)
│   │   └── ui/             # ShadCN UI components (Button, Card, etc.)
│   ├── hooks/              # Custom React hooks
│   ├── lib/                # Utility functions (Firebase, Stripe, etc.)
│   └── ai/                 # Genkit AI flows and configuration
├── tailwind.config.ts      # Tailwind CSS configuration
└── next.config.ts          # Next.js configuration
```

### Key Directories Explained:

- **`src/app`**: The core of the Next.js application, using route groups `(app)` for authenticated users and `(auth)` for login/registration pages.
- **`src/components`**: Contains all reusable React components, organized by feature (`auth`, `layout`) and the base `ui` components from ShadCN.
- **`src/hooks`**: Home for custom React hooks like `use-toast` for notifications and `use-mobile` for responsive layouts.
- **`src/lib`**: Contains critical utility functions and SDK initializations, including `firebase.ts` for connecting to Firebase/Firestore and `utils.ts` for helper functions like `cn`.

---

## 3. Styling and Theming

- **Tailwind CSS**: The primary tool for styling, allowing for rapid, utility-first UI development.
- **`src/app/globals.css`**: Defines the application's theme (primary, secondary, accent colors) using CSS variables, allowing for easy and consistent theme changes.
- **ShadCN UI**: The components in `src/components/ui` are fully customizable, built on Radix UI, and styled with our application's Tailwind theme.
- **Fonts**: The application uses 'Inter' for body text and 'Space Grotesk' for headlines.

---

## 4. Core Features & Functionality

### User Management & Authentication
- **Authentication:** A complete authentication system is implemented using **Firebase Authentication**, handling user sign-up, login, and session management.
- **User Roles:** The system is designed to support different user roles, such as **ELSA**, **Trainer**, and **Admin**, with permissions managed via Firestore.

### Training & Supervision Management
- **Course Enrollment:** ELSAs can browse and enroll in training courses.
- **Supervision Groups:** The platform provides dedicated management for supervision cohorts, including membership tracking and session scheduling.
- **Attendance & Capacity:** Trainers and Admins can log attendance. Group sizes are automatically managed, with visual indicators for capacity.

### Resource Centre
- **Digital Library:** A file-sharing system where Admins and Trainers upload educational materials.
- **Granular Permissions:** A sophisticated permission system ensures users only see resources relevant to their specific training or supervision group.
- **Directory Structure:** Supports nested directory organization for structured content.

### Payments & Commerce
- **Stripe Integration:** The application is fully integrated with **Stripe** to process payments for courses and supervision groups.
- **Automated Enrollment:** Successful payments automatically trigger updates in Firestore to confirm a user's enrollment.

### Communication
- **Messaging System:** Includes built-in messaging features to foster community interaction.
- **Automated Emails:** Transactional emails for welcome messages, enrollment confirmations, and other updates are sent using **Nodemailer** through a Gmail integration.
